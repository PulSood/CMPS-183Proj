{{extend 'layout.html'}}
{{block head}}
<script src="{{=URL('static', 'js/vue.js')}}"></script>
<script>
   var make_profile_URL = "{{=URL('api', 'make_profile', user_signature=True)}}";
   var add_sitter_URL = "{{=URL('api', 'add_sitter', user_signature=True)}}";
   var add_owner_URL = "{{=URL('api', 'add_owner', user_signature=True)}}";
   var get_profiles_URL = "{{=URL('api', 'add_owner', user_signature=True)}}";
   var logged_in_userID = "{{=None if auth.user is None else auth.user.id}}";
   </script>
{{end}}

{{if auth.user is None:}}
<div id="body" style="width:100vw;height:100vh">
   <div id="title">
      <div>PETMET</div>
   </div>
   <div id="content" class="container">
      <span class="half">
         <p>Que Paso</p>
      </span>
      <span class="half">
         <a class="btn padded" style="width:200px" href="{{=URL('default', 'user/login')}}">Log In</a>
         <a class="btn padded" style="width:200px" href="{{=URL('default', 'user/register')}}">Sign Up</a>
      </span>
   </div>
</div>

{{else:}}
<div id="main">
   <div class="left half compressible">
      <div class="container form_row padded">
         <div class="label quarter">
            First Name:
         </div>
         <div class="form threequarters">
            <input v-model="fname" />
         </div>
      </div>
      <div class="container form_row padded">
         <div class="label quarter">
            Last Name:
         </div>
         <div class="form threequarters">
            <input v-model="lname" />
         </div>
      </div>
      <div class="container form_row padded">
         <div class="label quarter">
            Contact Info:
         </div>
         <div class="form threequarters">
            <input v-model="contact" placeholder="Enter your email" />
         </div>
      </div>
      <div class="container form_row padded">
         <div class="label quarter">
            City:
         </div>
         <div class="form threequarters">
            <input v-model="city_name" placeholder="Enter your city name" />
         </div>
      </div>
      <div class="container form_row padded">
         <div class="form threequarters">
            <button id="make-profile" v-on:click="make_profile();">Submit</button>
         </div>
      </div>
   </div>
   <div class="right half compressible">
      <div class="container form_row padded">
         <img v-if="image != null" v-bind:src="image" width="40%" height="40%" align="left" /><br>
         <input type="file" v-on:change="image_changed($event)" accept="image/*" />
         <div class="quarter"></div>
      </div>
      <!-- The below is for sitter/owner profile  -->
      <div class="containter form_row align left">
         <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1"
               v-on:click="toggle_sitter_form(); checkBlur();">
            <label class="form-check-label" for="inlineRadio1">Sitter</label>
            <!-- </div> -->
            <!-- <div class="form-check form-check-inline"> -->
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2"
               v-on:click="toggle_owner_form(); checkBlur();">
            <label class="form-check-label" for="inlineRadio2">Owner</label>
            <!-- </div> -->
            <!-- <div class="form-check form-check-inline"> -->
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3"
               v-on:click="toggle_both_form(); checkBlur();">
            <label class="form-check-label" for="inlineRadio3">Both</label>
            <!-- The code below shows either the owner or sitter form or both -->
            <div v-if="show_sitter_form == true">
               <div class="form-group">
                  <label for="sitter_description">Sitter Description:</label>
                  <!-- <input type="sitter_description" class="form-control" id="sitter_description"> -->
                  <textarea v-model="sitter_description"></textarea>
               </div>
               <button type="submit" class="btn btn-default" v-on:click="add_sitter()">Submit</button>
            </div>
            <div v-if="show_owner_form == true">
               <div class="form-group">
                  <label for="owner_description">Owner Description:</label>
                  <!-- <input type="owner_description" class="form-control" id="owner_description"> -->
                  <textarea v-model="owner_description"></textarea>
               </div>
               <button type="submit" class="btn btn-default" v-on:click="add_owner();">Submit</button>
            </div>
            <div v-if="show_both_form == true">
               <div class="form-group">
                  <label for="sitter_description">Sitter Description:</label>
                  <!-- <input type="sitter_description" class="form-control" id="sitter_description"> -->
                  <textarea v-model="sitter_description"></textarea>
               </div>
               <div class="form-group">
                  <label for="owner_description">Owner Description:</label>
                  <!-- <input type="owner_description" class="form-control" id="owner_description"> -->
                  <textarea v-model="owner_description"></textarea>
               </div>
               <button type="submit" class="btn btn-default" v-on:click="add_owner(); add_sitter();">Submit</button>
            </div>
         </div>
      </div>
      <!-- The above code is for the radio buttons -->
   </div>
</div>

<!-- <div id="main">
  <div v-if="state === 'home'">
    ${state}
  </div>
  <div v-if="state === 'profile'">
    ${state}
  </div>
  <div v-if="state === 'editProfile'">
    edit profile
  </div>
  <div v-if="state === 'listings'">
    listings
  </div>
</div> -->
{{pass}}

<script src="{{=URL('static', 'js/default_index.js')}}"></script>